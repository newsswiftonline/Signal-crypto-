<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Crypto Signals (1H, 4H, 1D) with Live Prices</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #0d1117;
      color: #ffffff;
      text-align: center;
      padding: 20px;
    }
    .tab-btn {
      padding: 10px 15px;
      background: #161b22;
      color: white;
      border: none;
      margin: 5px;
      cursor: pointer;
      border-radius: 8px;
      transition: background-color 0.3s ease;
    }
    .tab-btn.active {
      background-color: #238636;
    }
    .signal-box {
      border: 1px solid #30363d;
      background: #161b22;
      padding: 15px;
      margin: 15px auto;
      width: 90%;
      max-width: 450px;
      border-radius: 10px;
      text-align: left;
      position: relative;
    }
    .signal-box h3 {
      margin: 0 0 8px;
    }
    .signal-detail {
      margin: 5px 0;
      font-size: 14px;
    }
    .indicator-list {
      margin-top: 10px;
      font-size: 13px;
      color: #9ca3af;
    }
    .smart-money {
      color: #2dd4bf;
      font-weight: bold;
      margin-left: 5px;
    }
    .fakeout-alert {
      position: absolute;
      top: 10px;
      right: 10px;
      background: #dc2626;
      color: white;
      padding: 5px 10px;
      border-radius: 50px;
      font-weight: bold;
      font-size: 13px;
    }
    .live-price {
      font-weight: bold;
      color: #58a6ff;
      font-size: 16px;
    }
  </style>
</head>
<body>
  <h1>üìà Crypto Future Signals</h1>
  <div>
    <button class="tab-btn active" onclick="showSignals('1h', event)">1H</button>
    <button class="tab-btn" onclick="showSignals('4h', event)">4H</button>
    <button class="tab-btn" onclick="showSignals('1d', event)">1D</button>
  </div>
  <div id="signalContainer"></div>

  <script>
    // Sample signals with extra indicators, smart money and fakeout flags
    const signals = {
      "1h": [
        { symbol: "BTCUSDT", direction: "Short", price: 104890.50, sl: 106988.31, tp: 100694.88,
          indicators: { RSI: 65, MACD: 'Bearish', SMA50: 105000, SMA200: 103500 },
          smartMoney: true, fakeout: false },
        { symbol: "ETHUSDT", direction: "Short", price: 2512.45, sl: 2562.70, tp: 2411.95,
          indicators: { RSI: 58, MACD: 'Bearish', SMA50: 2520, SMA200: 2450 },
          smartMoney: false, fakeout: true },
        { symbol: "XRPUSDT", direction: "Long", price: 2.16, sl: 2.12, tp: 2.25,
          indicators: { RSI: 40, MACD: 'Bullish', SMA50: 2.10, SMA200: 2.05 },
          smartMoney: true, fakeout: false }
      ],
      "4h": [
        { symbol: "BTCUSDT", direction: "Long", price: 104500.00, sl: 103000.00, tp: 108000.00,
          indicators: { RSI: 45, MACD: 'Bullish', SMA50: 104200, SMA200: 102500 },
          smartMoney: true, fakeout: false },
        { symbol: "ETHUSDT", direction: "Short", price: 2500.00, sl: 2600.00, tp: 2400.00,
          indicators: { RSI: 70, MACD: 'Bearish', SMA50: 2550, SMA200: 2490 },
          smartMoney: false, fakeout: false }
      ],
      "1d": [
        { symbol: "BTCUSDT", direction: "Long", price: 101000.00, sl: 97000.00, tp: 110000.00,
          indicators: { RSI: 50, MACD: 'Bullish', SMA50: 100000, SMA200: 95000 },
          smartMoney: true, fakeout: false },
        { symbol: "ETHUSDT", direction: "Long", price: 2400.00, sl: 2200.00, tp: 2700.00,
          indicators: { RSI: 55, MACD: 'Bullish', SMA50: 2350, SMA200: 2200 },
          smartMoney: false, fakeout: false }
      ]
    };

    // Store current timeframe signals here so we can update live prices
    let currentSignals = [];
    let currentTimeframe = "1h";

    // Function to simulate price fluctuation around the base price
    function simulateLivePrice(basePrice) {
      const volatility = basePrice * 0.005; // 0.5% volatility
      const change = (Math.random() * volatility * 2) - volatility; // random between -volatility and +volatility
      return +(basePrice + change).toFixed(2);
    }

    // Render signals UI
    function showSignals(timeframe, event) {
      currentTimeframe = timeframe;
      currentSignals = signals[timeframe].map(s => ({ ...s })); // deep copy so we can update prices
      document.querySelectorAll(".tab-btn").forEach(btn => btn.classList.remove("active"));
      event.target.classList.add("active");

      renderSignals();
    }

    // Render signal boxes
    function renderSignals() {
      const container = document.getElementById("signalContainer");
      container.innerHTML = "";

      currentSignals.forEach((s, i) => {
        if (s.fakeout) {
          container.innerHTML += `
            <div class="signal-box" style="border-color:#dc2626;">
              <h3>${s.symbol}</h3>
              <div class="fakeout-alert">Fakeout ‚ö†Ô∏è</div>
              <p class="signal-detail">Signal temporarily invalid due to fake breakout.</p>
            </div>
          `;
          return;
        }

        container.innerHTML += `
          <div class="signal-box" id="signal-${i}">
            <h3>${s.symbol} ${s.smartMoney ? '<span class="smart-money">üí∞ Smart Money</span>' : ''}</h3>
            <p class="signal-detail">Signal: <b>${s.direction}</b></p>
            <p class="signal-detail">Price: <span class="live-price" id="live-price-${i}">$${s.price}</span></p>
            <p class="signal-detail">SL: $${s.sl} | TP: $${s.tp}</p>
            <div class="indicator-list">
              <p>RSI: ${s.indicators.RSI}</p>
              <p>MACD: ${s.indicators.MACD}</p>
              <p>SMA50: $${s.indicators.SMA50}</p>
              <p>SMA200: $${s.indicators.SMA200}</p>
            </div>
          </div>
        `;
      });
    }

    // Update live prices every 5 seconds
    function updateLivePrices() {
      currentSignals.forEach((s, i) => {
        if (s.fakeout) return; // skip fakeouts

        // Simulate new price
        s.price = simulateLivePrice(s.price);
        // Update DOM
        const priceEl = document.getElementById(`live-price-${i}`);
        if (priceEl) {
          priceEl.textContent = `$${s.price}`;
        }
      });
    }

    // Start interval price updates
    setInterval(updateLivePrices, 5000);

    // Initial load
    window.onload = () => showSignals('1h', { target: document.querySelector('.tab-btn.active') });
  </script>
</body>
      </html>
